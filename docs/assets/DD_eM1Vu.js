import{_ as n,r as a,k as e,o as s,d as l,f as t,e as i,x as o,y as c,F as r,z as d,A as u,t as p,B as v,a as g,c as C,i as m,p as E}from"./oj9_mtiD.js";import{c as b}from"./CBHy55aN.js";import"./Da2dY_mR.js";const f={class:"container-fluid px-4 text-center"},y={class:"d-flex flex-wrap justify-content-center gap-2",style:{margin:"20px",padding:"auto"}},D={class:"card"},h={class:"card-body"},x={class:"row mb-3"},S={class:"col-md-12"},R=["value"],w={class:"row mb-3"},k={class:"col-md-12"},N={key:0,class:"mb-3 d-flex flex-wrap justify-content-center"},U={class:"row mb-3"},j={class:"col-md-12"},$={key:0,class:"table table-sm table-striped"},H={class:"tblfont-title"},P={class:"code-color"},A={class:"tblfont-price"},K={class:"card-footer text-body-secondary"},T=n({__name:"CurrencyExchange",setup(n){const T=g(),F=a("TWD"),I=a(100);let M=!1;const Y=a({USD:{Cn:"美元",En:"United States Dollar",sign:"$"},TWD:{Cn:"台幣",En:"New Taiwan Dollar",sign:"NT"},JPY:{Cn:"日圓",En:"Japanese Yen",sign:"¥"},HKD:{Cn:"港幣",En:"Hong Kong Dollar",sign:"$"},CNY:{Cn:"人民幣",En:"Chinese Yuan",sign:"¥"},EUR:{Cn:"歐元",En:"Euro",sign:"€"},KRW:{Cn:"韓元",En:"South Korean Won",sign:"₩"},GBP:{Cn:"英鎊",En:"Pound Sterling",sign:"£"},THB:{Cn:"泰幣",En:"Thai Baht",sign:"฿"},AUD:{Cn:"澳幣",En:"Australian Dollar",sign:"$"},CAD:{Cn:"加幣",En:"Canadian Dollar",sign:"$"},PHP:{Cn:"菲律賓比索",En:"Philippine Peso",sign:"₱"},INR:{Cn:"印度盧比",En:"Indian",sign:"₹"},CHF:{Cn:"瑞士法郎",En:"Swiss Franc",sign:"CHF"},IDR:{Cn:"印尼幣",En:"Indonesian Rupiah",sign:"Rp"},MYR:{Cn:"馬來幣",En:"Malaysian Ringgit",sign:"RM"},NZD:{Cn:"紐元",En:"New Zealand Dollar",sign:"$"},SEK:{Cn:"瑞典幣",En:"Swedish Krona",sign:"kr"},SGD:{Cn:"新加坡幣",En:"Singapore Dollar",sign:"$"},VND:{Cn:"越南盾",En:"Vietnamese Dong",sign:"₫"},ZAR:{Cn:"南非幣",En:"South African Rand",sign:"R"}}),_=e((()=>Object.entries(Y.value).map((([n,a])=>({code:n,...a})))));function B(){const n=F.value,a=parseFloat(I.value);let e=1*a;0!=e&&null!=Y.value[n]&&(e=a/Y.value[n].rate),Y.value.USD.price=Math.round(1e3*e)/1e3,Object.keys(Y.value).forEach((s=>{"USD"!=s&&(Y.value[s].price=s!=n?Math.round(1e3*(e*Y.value[s].rate+5e-4))/1e3:a)}))}return s((async()=>{})),(n,a)=>(m(),l("div",f,[t("div",y,[t("div",D,[a[8]||(a[8]=t("div",{class:"card-img-top"},null,-1)),t("div",h,[a[7]||(a[7]=t("h4",{class:"card-title text-center"},"匯率轉換 ",-1)),t("div",x,[t("div",S,[o(t("select",{"onUpdate:modelValue":a[0]||(a[0]=n=>F.value=n),class:"form-select"},[a[4]||(a[4]=t("option",{value:"",disabled:""},"-- 輸入幣別 --",-1)),(m(!0),l(r,null,d(_.value,(n=>(m(),l("option",{key:n.code,value:n.code},p(n.code)+" "+p(n.Cn)+" "+p(n.sign),9,R)))),128))],512),[[c,F.value]])])]),t("div",w,[t("div",k,[o(t("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>I.value=n),type:"number",class:"form-control",value:"100"},null,512),[[u,I.value]])])]),null!=F.value?(m(),l("div",N,[t("button",{class:"btn btn-primary fixed-size",onClick:a[2]||(a[2]=n=>{M?B():b().then((n=>{if(n.data){let a=0;Object.keys(n.data).forEach((e=>{Y.value[e]&&(Y.value[e].rate=n.data[e].rate,a++)})),a>0&&(M=!0,B())}})).catch((n=>{C(`無法取得即時匯率 ${n.code} ${n.message||""}`,{autoClose:4e3})}))})},p(F.value)+" 換匯",1)])):i("",!0),t("div",U,[t("div",j,[1==v(M)?(m(),l("table",$,[a[6]||(a[6]=t("thead",null,null,-1)),t("tbody",null,[(m(!0),l(r,null,d(_.value,(n=>{return m(),l("tr",{scope:"row",key:n.code},[t("td",H,[t("span",P,p(n.Cn)+" "+p(n.code),1),a[5]||(a[5]=t("br",null,null,-1)),E(p(n.En),1)]),t("td",A,p(n.sign)+" "+p((e=n.price,isNaN(e)?e:e.toLocaleString("en-US"))),1)]);var e})),128))])])):i("",!0)])])]),t("div",K,[t("button",{type:"button",class:"btn btn-outline-primary fixed-size",onClick:a[3]||(a[3]=n=>{v(T).push({name:"Home"})})},"回首頁")])])])]))}},[["__scopeId","data-v-395a5491"]]);export{T as default};
