import{_ as n,r as a,m as e,o as s,d as l,f as t,e as i,z as o,A as c,F as r,B as d,C as u,t as p,D as v,a as g,c as C,j as m,q as E}from"./BpdCzYEz.js";import{c as b}from"./DVot81TO.js";const f={class:"container-fluid px-4 text-center"},D={class:"d-flex flex-wrap justify-content-center gap-2",style:{margin:"20px",padding:"auto"}},h={class:"card"},y={class:"card-body"},S={class:"row mb-3"},x={class:"col-md-12"},R=["value"],k={class:"row mb-3"},w={class:"col-md-12"},N={key:0,class:"mb-3 d-flex flex-wrap justify-content-center"},U={class:"row mb-3"},j={class:"col-md-12"},A={key:0,class:"table table-sm table-striped"},$={class:"tblfont-title"},H={class:"code-color"},P={class:"tblfont-price"},K={class:"card-footer text-body-secondary"},T=n({__name:"aaCheckout",emits:["update-menuitem"],setup(n,{emit:T}){const F=g(),I=a("TWD"),M=a(100);let Y=!1;const _=a({USD:{Cn:"美元",En:"United States Dollar",sign:"$"},TWD:{Cn:"台幣",En:"New Taiwan Dollar",sign:"NT"},JPY:{Cn:"日圓",En:"Japanese Yen",sign:"¥"},HKD:{Cn:"港幣",En:"Hong Kong Dollar",sign:"$"},CNY:{Cn:"人民幣",En:"Chinese Yuan",sign:"¥"},EUR:{Cn:"歐元",En:"Euro",sign:"€"},KRW:{Cn:"韓元",En:"South Korean Won",sign:"₩"},GBP:{Cn:"英鎊",En:"Pound Sterling",sign:"£"},THB:{Cn:"泰幣",En:"Thai Baht",sign:"฿"},AUD:{Cn:"澳幣",En:"Australian Dollar",sign:"$"},CAD:{Cn:"加幣",En:"Canadian Dollar",sign:"$"},PHP:{Cn:"菲律賓比索",En:"Philippine Peso",sign:"₱"},INR:{Cn:"印度盧比",En:"Indian",sign:"₹"},CHF:{Cn:"瑞士法郎",En:"Swiss Franc",sign:"CHF"},IDR:{Cn:"印尼幣",En:"Indonesian Rupiah",sign:"Rp"},MYR:{Cn:"馬來幣",En:"Malaysian Ringgit",sign:"RM"},NZD:{Cn:"紐元",En:"New Zealand Dollar",sign:"$"},SEK:{Cn:"瑞典幣",En:"Swedish Krona",sign:"kr"},SGD:{Cn:"新加坡幣",En:"Singapore Dollar",sign:"$"},VND:{Cn:"越南盾",En:"Vietnamese Dong",sign:"₫"},ZAR:{Cn:"南非幣",En:"South African Rand",sign:"R"}}),B=e((()=>Object.entries(_.value).map((([n,a])=>({code:n,...a})))));function V(){const n=I.value,a=parseFloat(M.value);let e=1*a;0!=e&&null!=_.value[n]&&(e=a/_.value[n].rate),_.value.USD.price=Math.round(1e3*e)/1e3,Object.keys(_.value).forEach((s=>{"USD"!=s&&(_.value[s].price=s!=n?Math.round(1e3*(e*_.value[s].rate+5e-4))/1e3:a)}))}const W=T;return s((async()=>{W("update-menuitem",{page:"AACheckout"})})),(n,a)=>(m(),l("div",f,[t("div",D,[t("div",h,[a[8]||(a[8]=t("div",{class:"card-img-top"},null,-1)),t("div",y,[a[7]||(a[7]=t("h4",{class:"card-title text-center"},"統計 ",-1)),t("div",S,[t("div",x,[o(t("select",{"onUpdate:modelValue":a[0]||(a[0]=n=>I.value=n),class:"form-select"},[a[4]||(a[4]=t("option",{value:"",disabled:""},"-- 輸入幣別 --",-1)),(m(!0),l(r,null,d(B.value,(n=>(m(),l("option",{key:n.code,value:n.code},p(n.code)+" "+p(n.Cn)+" "+p(n.sign),9,R)))),128))],512),[[c,I.value]])])]),t("div",k,[t("div",w,[o(t("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>M.value=n),type:"number",class:"form-control",value:"100"},null,512),[[u,M.value]])])]),null!=I.value?(m(),l("div",N,[t("button",{class:"btn btn-primary fixed-size",onClick:a[2]||(a[2]=n=>{Y?V():b().then((n=>{if(n.data){let a=0;Object.keys(n.data).forEach((e=>{_.value[e]&&(_.value[e].rate=n.data[e].rate,a++)})),a>0&&(Y=!0,V())}})).catch((n=>{C(`無法取得即時匯率 ${n.code} ${n.message||""}`,{autoClose:4e3})}))})},p(I.value)+" 換匯",1)])):i("",!0),t("div",U,[t("div",j,[1==v(Y)?(m(),l("table",A,[a[6]||(a[6]=t("thead",null,null,-1)),t("tbody",null,[(m(!0),l(r,null,d(B.value,(n=>{return m(),l("tr",{scope:"row",key:n.code},[t("td",$,[t("span",H,p(n.Cn)+" "+p(n.code),1),a[5]||(a[5]=t("br",null,null,-1)),E(p(n.En),1)]),t("td",P,p(n.sign)+" "+p((e=n.price,isNaN(e)?e:e.toLocaleString("en-US"))),1)]);var e})),128))])])):i("",!0)])])]),t("div",K,[t("button",{type:"button",class:"btn btn-outline-primary fixed-size",onClick:a[3]||(a[3]=n=>{v(F).push({name:"Home"})})},"回首頁")])])])]))}},[["__scopeId","data-v-4f0f7d70"]]);export{T as default};
